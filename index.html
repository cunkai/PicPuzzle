<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>批量读取本地照片并切割</title>
<style>
/* 设置页面主体背景色 */
body {
background-color: #F2F2F2;
}

  /* 设置“Midjourney”文本样式 */
  .midjourney {
    font-size: 32px;
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 16px;
    background-color: #3CB371;
    color: #FFFFFF;
    border-radius: 50%;
    width: 200px;
    height: 200px;
    margin: auto;
    margin-top: 48px;
    box-shadow: 0px 0px 30px rgba(0, 0, 0, 0.1);
    transform: rotate(45deg);
  }

  /* 设置H1标题样式 */
  h1 {
    font-size: 24px;
    font-weight: bold;
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 32px;
    margin-bottom: 16px;
  }

  /* 设置文件选择框及提交按钮样式 */
  #file-input {
    display: block;
    margin: auto;
    margin-top: 32px;
    margin-bottom: 16px;
    width: 80%;
    max-width: 400px;
    padding: 16px;
    border: 4px dashed #3CB371;
    border-radius: 16px;
    font-size: 18px;
    font-weight: bold;
    color: #3CB371;
    background-color: #FFFFFF;
    text-align: center;
  }

  #submit-btn {
    display: block;
    margin: auto;
    margin-top: 16px;
    margin-bottom: 32px;
    padding: 16px;
    border: none;
    border-radius: 16px;
    font-size: 20px;
    font-weight: bold;
    color: #FFFFFF;
    background-color: #3CB371;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

  #submit-btn:hover {
    transform: scale(1.1);
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
  }
</style>
</head>
<body>
<!-- 使用SVG元素绘制几何形状作为背景 -->
<svg viewBox="0 0 1440 320">
<path fill="#3CB371" fill-opacity="1" d="M0,224L60,197.3C120,171,240,117,360,101.3C480,85,600,107,720,112C840,117,960,107,1080,106.7C1200,107,1320,117,1380,122.7L1440,128L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
</svg>

<!-- 显示"Midjourney"文本 -->
<div class="midjourney"><i class="fas fa-font"></i> Midjourney</div>

<!-- 显示H1标题及文件选择框和提交按钮 -->
<h1>请选择要切割的照片:</h1>
<input type="file" id="file-input" multiple>
<button id="submit-btn">切割四小图</button>

<script>
  const fileInput = document.getElementById('file-input');
  const submitBtn = document.getElementById('submit-btn');

  // 处理每张照片的函数
  function processImage(file) {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');

    const img = new Image();
    img.src = URL.createObjectURL(file);
    img.onload = () => {
      canvas.width = img.width / 2;
      canvas.height = img.height /2;

// 将照片等分成四张图
ctx.drawImage(img, 0, 0, canvas.width, canvas.height, 0, 0, canvas.width, canvas.height);
saveImage(canvas, "1_"+file.name);
ctx.drawImage(img, canvas.width, 0, canvas.width, canvas.height, 0, 0, canvas.width, canvas.height);
saveImage(canvas, "2_"+file.name);
ctx.drawImage(img, 0, canvas.height, canvas.width, canvas.height, 0, 0, canvas.width, canvas.height);
saveImage(canvas, "3_"+file.name);
ctx.drawImage(img, canvas.width, canvas.height, canvas.width, canvas.height, 0, 0, canvas.width, canvas.height);
saveImage(canvas, "4_"+file.name);
};
}

// 保存图像的函数
function saveImage(canvas, name) {
const link = document.createElement('a');
link.download = name;
link.href = canvas.toDataURL();
link.click();
}

// 绑定提交按钮点击事件，遍历选择的文件并逐一处理
submitBtn.addEventListener('click', () => {
const files = fileInput.files;
for (let i = 0; i < files.length; i++) {
processImage(files[i]);
}
});
</script>

<!-- 使用SVG元素绘制几何形状作为底部背景 -->
<svg viewBox="0 0 1440 320">
<path fill="#3CB371" fill-opacity="1" d="M0,256L60,224C120,192,240,128,360,106.7C480,85,600,107,720,133.3C840,160,960,192,1080,213.3C1200,235,1320,245,1380,250.7L1440,256L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
</svg>
</body>
</html>